{# Base layout
   - Passes a safe default into the meta include so missing `meta` won't throw.
   - Uses the 'home' route for the site link (user confirmed route name is 'home').
   - Falls back to meta.url when provided.
#}
<!doctype html>
<html lang="{{ (app.request.locale|default('en'))|slice(0,2) }}">
  <head>
    <meta charset="utf-8">

    {# include meta safely even when meta is not provided #}
    {% include '_meta.html.twig' with {'meta': meta|default({})} %}

    {% block stylesheets %}
      <link rel="stylesheet" href="{{ asset('build/app.css') }}" />
    {% endblock %}

    {% block head_extra %}{% endblock %}
  </head>
  <body>
    {# Prefer meta.url when set, otherwise use the 'home' route (user route name: 'home') #}
    {% set home_url = (meta is defined and meta.url is defined and meta.url) ? meta.url : path('home') %}

    <header>
      <nav>
        <a href="{{ home_url }}">XLMFISH</a>
      </nav>
    </header>

    <main id="main" role="main">
      {% block body %}{% endblock %}
    </main>

    <footer>
      <p>&copy; {{ "now"|date("Y") }} XLMFISH</p>
    </footer>

    {% block javascripts %}
      <script src="{{ asset('build/app.js') }}"></script>
    {% endblock %}
  </body>
</html>
